#!/usr/bin/env python3
# coding: utf-8
import asyncio

from grin_portal_client.Answer import Answer
from grin_portal_client.Question import Question
from grin_portal_client.websocket import GrinPortalWebsocket


class NotSolvable(RuntimeError):
    pass

class ShinySolver:
    def __init__(self, question: Question):
        self.question = question
    def solve(self) -> Answer:
        if not all([isinstance(x, str) for x in [self.question.gene, self.question.transcript, self.question.variant_c_dna]]):
            raise NotSolvable()
        # List of messages
        messages_to_send = [
            ["0#0|o|"],
            [
                "1#0|m|{\"method\":\"init\",\"data\":{\"TabDisplay\":\"variantTab\",\"closeBannerButton:shiny.action\":0,\"search_var_c:shiny.action\":0,\"search_var_p:shiny.action\":0,\"info:shiny.action\":0,\"research-filters-reset_all:shiny.action\":0,\"link2:shiny.action\":0,\"link1:shiny.action\":0,\"gene_selection\":\"GRIN2B\",\"transcript\":\"" + self.question.transcript + "\",\"research-filters-Gene\":[],\"research-filters-Vartype\":[],\"research-filters-AA_alt\":[],\"research-filters-Domain\":[],\"research-filters-CALL\":[],\"research-filters-delay_degree\":[],\"research-filters-seizures\":[],\"research-filters-per_less_strict\":[],\"research-filters-iMD\":[],\"gnomad_m\":false,\"per_m\":false,\"microdomain_m\":false,\"map_3d_1\":true,\"map_3d_2A\":true,\"map_3d_2B\":true,\"map_3d_2D\":true,\"cDNA\":\"c.2459G>C\",\"Protein\":\"p.Gly820Ala\",\".clientdata_output_GRIN1_pie_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_pie_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_pie_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_pie_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN1_delay_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_delay_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_delay_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_delay_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN1_seizures_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_seizures_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_seizures_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_seizures_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN1_seizure_onset_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_seizure_onset_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_seizure_onset_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_seizure_onset_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN1_movement_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_movement_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_movement_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_movement_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN1_CVI_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_CVI_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_CVI_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_CVI_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN1_MCD_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN1_MCD_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN1_MCD_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN1_MCD_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2A_pie_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2A_pie_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2A_pie_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2A_pie_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2A_delay_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2A_delay_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2A_delay_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2A_delay_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2A_seizures_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2A_seizures_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2A_seizures_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2A_seizures_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2A_seizure_onset_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2A_seizure_onset_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2A_seizure_onset_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2A_seizure_onset_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2A_seizure_offset_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2A_seizure_offset_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2A_seizure_offset_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2A_seizure_offset_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2A_movement_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2A_movement_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2A_movement_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2A_movement_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2B_pie_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2B_pie_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2B_pie_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2B_pie_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2B_delay_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2B_delay_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2B_delay_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2B_delay_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2B_seizures_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2B_seizures_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2B_seizures_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2B_seizures_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2B_seizure_onset_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2B_seizure_onset_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2B_seizure_onset_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2B_seizure_onset_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2B_movement_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2B_movement_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2B_movement_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2B_movement_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2D_pie_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2D_pie_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2D_pie_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2D_pie_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2D_delay_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2D_delay_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2D_delay_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2D_delay_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2D_seizures_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2D_seizures_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2D_seizures_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2D_seizures_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2D_seizure_onset_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2D_seizure_onset_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2D_seizure_onset_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2D_seizure_onset_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_GRIN2D_movement_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_GRIN2D_movement_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_GRIN2D_movement_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_GRIN2D_movement_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_Genotype_legend_plot_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_Genotype_legend_plot_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_Genotype_legend_plot_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_Genotype_legend_plot_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_Genotype_overview_plot_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_Genotype_overview_plot_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_Genotype_overview_plot_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_Genotype_overview_plot_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_phenotype_number_plot_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_phenotype_number_plot_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_phenotype_number_plot_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_phenotype_number_plot_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_violin_grin_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_violin_grin_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_violin_grin_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_violin_grin_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_seizure_gene_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_seizure_gene_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_seizure_gene_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_seizure_gene_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_number_plot_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_number_plot_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_number_plot_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_number_plot_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_cons_plot_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_cons_plot_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_cons_plot_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_cons_plot_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_Glu_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_Glu_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_Glu_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_Glu_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_Gly_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_Gly_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_Gly_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_Gly_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_Mg_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_Mg_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_Mg_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_Mg_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_Zn_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_Zn_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_Zn_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_Zn_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_tauW_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_tauW_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_tauW_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_tauW_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_popen_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_popen_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_popen_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_popen_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_functional_surface_mean_bg\":\"rgb(255, 255, 255)\",\".clientdata_output_functional_surface_mean_fg\":\"rgb(62, 63, 58)\",\".clientdata_output_functional_surface_mean_accent\":\"rgb(147, 197, 75)\",\".clientdata_output_functional_surface_mean_font\":{\"families\":[\"Roboto\",\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Helvetica Neue\",\"Arial\",\"sans-serif\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"],\"size\":\"16px\"},\".clientdata_output_n_GRIN1_hidden\":true,\".clientdata_output_GRIN1_pie_hidden\":true,\".clientdata_output_GRIN1_delay_hidden\":true,\".clientdata_output_GRIN1_seizures_hidden\":true,\".clientdata_output_GRIN1_seizure_onset_hidden\":true,\".clientdata_output_GRIN1_movement_hidden\":true,\".clientdata_output_GRIN1_CVI_hidden\":true,\".clientdata_output_GRIN1_MCD_hidden\":true,\".clientdata_output_n_GRIN2A_hidden\":true,\".clientdata_output_GRIN2A_pie_hidden\":true,\".clientdata_output_GRIN2A_delay_hidden\":true,\".clientdata_output_GRIN2A_seizures_hidden\":true,\".clientdata_output_GRIN2A_seizure_onset_hidden\":true,\".clientdata_output_GRIN2A_seizure_offset_hidden\":true,\".clientdata_output_GRIN2A_movement_hidden\":true,\".clientdata_output_n_GRIN2B_hidden\":true,\".clientdata_output_GRIN2B_pie_hidden\":true,\".clientdata_output_GRIN2B_delay_hidden\":true,\".clientdata_output_GRIN2B_seizures_hidden\":true,\".clientdata_output_GRIN2B_seizure_onset_hidden\":true,\".clientdata_output_GRIN2B_movement_hidden\":true,\".clientdata_output_n_GRIN2D_hidden\":true,\".clientdata_output_GRIN2D_pie_hidden\":true,\".clientdata_output_GRIN2D_delay_hidden\":true,\".clientdata_output_GRIN2D_seizures_hidden\":true,\".clientdata_output_GRIN2D_seizure_onset_hidden\":true,\".clientdata_output_GRIN2D_movement_hidden\":true,\".clientdata_output_startpanel_hidden\":false,\".clientdata_output_startpanel2_hidden\":false,\".clientdata_output_loadingUI_hidden\":false,\".clientdata_output_intronicpanel_hidden\":false,\".clientdata_output_synonymouspanel_hidden\":false,\".clientdata_output_missensepanel_hidden\":false,\".clientdata_output_ptvpanel_hidden\":false,\".clientdata_output_filtered_n_hidden\":true,\".clientdata_output_Genotype_legend_plot_hidden\":true,\".clientdata_output_Genotype_overview_plot_hidden\":true,\".clientdata_output_threeDmolGRIN1_hidden\":true,\".clientdata_output_threeDmolGRIN2A_hidden\":true,\".clientdata_output_threeDmolGRIN2B_hidden\":true,\".clientdata_output_threeDmolGRIN2D_hidden\":true,\".clientdata_output_filtered_n1_hidden\":true,\".clientdata_output_phenotype_number_plot_hidden\":true,\".clientdata_output_violin_grin_hidden\":true,\".clientdata_output_seizure_gene_hidden\":true,\".clientdata_output_filtered_n2_hidden\":true,\".clientdata_output_functional_number_plot_hidden\":true,\".clientdata_output_functional_cons_plot_hidden\":true,\".clientdata_output_functional_Glu_hidden\":true,\".clientdata_output_functional_Gly_hidden\":true,\".clientdata_output_functional_Mg_hidden\":true,\".clientdata_output_functional_Zn_hidden\":true,\".clientdata_output_functional_tauW_hidden\":true,\".clientdata_output_functional_popen_hidden\":true,\".clientdata_output_functional_surface_mean_hidden\":true,\".clientdata_output_subsetTable_hidden\":true,\".clientdata_pixelratio\":1,\".clientdata_url_protocol\":\"https:\",\".clientdata_url_hostname\":\"grin-portal.broadinstitute.org\",\".clientdata_url_port\":\"\",\".clientdata_url_pathname\":\"/\",\".clientdata_url_search\":\"\",\".clientdata_url_hash_initial\":\"\",\".clientdata_url_hash\":\"\",\".clientdata_singletons\":\"f516b00c0b687c4a242e351d5f6c16012614314e,bc60e24bd542d3d2526a9028923c5d8af0d68bc4,e3a174039e40cf37b29855bf1e1bd498d3f64837,fac7155c1164fc7014b1b580307decf757804aa9,853260e56b5bf505d04d6a11217e6c977cbcccaf\"}}"],
            [
                "2#0|m|{\"method\":\"update\",\"data\":{\"transcript\":\"" + self.question.transcript.strip() + "\",\"gene_selection\":\"" + self.question.gene.strip() + "\", \"cDNA\":\"" + self.question.variant_c_dna.strip() + "\", \"search_var_c:shiny.action\":1}}"],
            [
                "3#0|m|{\"method\":\"update\",\"data\":{\"compareButtons_PTVs\":\"Same variant\",\"ACMG_ptv\":\"<h6>User defined criteria</h6>\",\"spider_info:shiny.action\":0,\"edit_BP1:shiny.action\":0,\"edit_BP2:shiny.action\":0,\"edit_BP4:shiny.action\":0,\"edit_BP5:shiny.action\":0,\"edit_BP6:shiny.action\":0,\"edit_BP7:shiny.action\":0,\"edit_PS1:shiny.action\":0,\"edit_PM1:shiny.action\":0,\"edit_PM3:shiny.action\":0,\"edit_PM5:shiny.action\":0,\"edit_PP2:shiny.action\":0,\"edit_PP3:shiny.action\":0,\"edit_PP4:shiny.action\":0,\"edit_PP5:shiny.action\":0,\"edit_PS2:shiny.action\":0,\"edit_PM6:shiny.action\":0,\"edit_PP1:shiny.action\":0,\"edit_BS4:shiny.action\":0,\"edit_BA1:shiny.action\":0,\"edit_BS1:shiny.action\":0,\"edit_BS2:shiny.action\":0,\"edit_PM2:shiny.action\":0,\"edit_PVS1:shiny.action\":0,\"edit_PM4:shiny.action\":0,\"edit_PS3:shiny.action\":0,\"edit_BS3:shiny.action\":0,\"inheritance_user\":\"Unknown\",\"phenotype_user\":\"Other\",\"func_all\":false,\"Protein\":\"\",\".clientdata_output_searchGene_hidden\":false,\".clientdata_output_searchTranscript_hidden\":false,\".clientdata_output_detailed_effect_PTV_hidden\":false,\".clientdata_output_searchinput_PTV_hidden\":false,\".clientdata_output_Protein_effect_ptv_hidden\":false,\".clientdata_output_acmgClass_hidden\":false,\".clientdata_output_download_report_hidden\":false,\".clientdata_output_patientTablePTV_variant_hidden\":true,\".clientdata_output_patientTablePTV_ptv_hidden\":true,\".clientdata_output_patientTablePTV_missense_hidden\":true,\".clientdata_output_CTD_warning_hidden\":true,\".clientdata_output_functionalSearchPlot_hidden\":true,\".clientdata_output_spiderSources_hidden\":true,\".clientdata_output_spiderTable_hidden\":true,\".clientdata_output_spiderTable_all_hidden\":true,\".clientdata_output_functionalSearchPlot_all_hidden\":true,\".clientdata_output_functionalSearchPlot_synaptic_hidden\":true,\".clientdata_output_strength_BP1_hidden\":true,\".clientdata_output_strength_BP2_hidden\":true,\".clientdata_output_strength_BP4_hidden\":true,\".clientdata_output_strength_BP5_hidden\":true,\".clientdata_output_strength_BP6_hidden\":true,\".clientdata_output_strength_BP7_hidden\":true,\".clientdata_output_strength_PS1_hidden\":true,\".clientdata_output_strength_PM1_hidden\":true,\".clientdata_output_strength_PM3_hidden\":true,\".clientdata_output_strength_PM5_hidden\":true,\".clientdata_output_strength_PP2_hidden\":true,\".clientdata_output_strength_PP3_hidden\":true,\".clientdata_output_strength_PP4_hidden\":true,\".clientdata_output_strength_PP5_hidden\":true,\".clientdata_output_strength_PS2_hidden\":true,\".clientdata_output_strength_PM6_hidden\":true,\".clientdata_output_strength_PP1_hidden\":true,\".clientdata_output_strength_BS4_hidden\":true,\".clientdata_output_strength_BA1_hidden\":true,\".clientdata_output_strength_BS1_hidden\":true,\".clientdata_output_strength_BS2_hidden\":true,\".clientdata_output_strength_PM2_hidden\":true,\".clientdata_output_populationacmg_hidden\":true,\".clientdata_output_strength_PVS1_hidden\":true,\".clientdata_output_strength_PM4_hidden\":true,\".clientdata_output_PTV_criteria_explanations_hidden\":true,\".clientdata_output_strength_PS3_hidden\":true,\".clientdata_output_strength_BS3_hidden\":true,\".clientdata_output_functionalacmg_hidden\":true,\".clientdata_output_comparePlot_PTV_hidden\":true}}"],
        ]
        output = asyncio.run(GrinPortalWebsocket().send_requests(messages_to_send))
        if isinstance(output, Answer):
            return output
        raise NotSolvable()
